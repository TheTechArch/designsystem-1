import {Meta, Canvas, Story} from '@storybook/addon-docs'
import {Checkbox} from "./index";
import {BetaBlock, TokensTable} from "../../../../../docs-components";
import {ArgsTable} from "@storybook/addon-docs";

<Meta
    title="Kjernekomponenter/Checkbox"
    component={Checkbox}
    parameters={{
        status: {
            type: 'beta', // 'beta' | 'stable' | 'deprecated' | 'releaseCandidate'
            url: 'http://www.url.com/status'
        }
    }}
    argTypes={{
        checked: {
            description: 'Krysser av i sjekkboksen.',
            control: {type: 'boolean'}
        },
        disabled: {
            description: 'Deaktiverer sjekkboksen.',
            control: {type: 'boolean'}
        },
        label: {
            description: 'Tekst som vises til høyre for sjekkboksen.',
            control: {type: 'text'}
        },
        description: {
            description: 'Beskrivelse av sjekkboksen. Vises under teksten til høyre.',
            control: {type: 'text'}
        },
        onChange: {
            description: 'Funksjon som kalles når brukeren klikker på sjekkboksen.',
            control: {type: 'function'}
        },
        name: {
            description: 'Navn på sjekkboksen.',
            control: {type: 'text'}
        },
        error: {
            description: 'Gir sjekkboksen en rød ramme for å indikere en feil.',
            control: {type: 'boolean'}
        },
        hideLabel: {
            description: 'Skjuler teksten til høyre for sjekkboksen, men gjør den tilgjengelig for verktøy som skjermlesere.',
            control: {type: 'boolean'}
        },
        readOnly: {
            description: 'Aktiverer lesevisning.',
            control: {type: 'boolean'}
        },
        checkboxId: {
            description: 'Sjekkboksens id.',
            control: {type: 'text'}
        },
        compact: {
            description: 'Kompakt visning.',
            control: {type: 'boolean'}
        },
        presentation: {
            description: 'Sett denne hvis sjekkboksen er en del av en forhåndsvisning og ikke har noen funksjon. I denne modusen vil ikke teksten ved siden av sjekkboksen være klikkbar, med mindre den er en ren tekst. Dermed kan man ha klikkbare elementer som en del av teksten uten at de overlapper andre klikkbare ting.',
            control: {type: 'boolean'}
        }
    }}
/>

export const defaultArgs = {
    label: 'Checkbox',
    checked: false,
    disabled: false,
    onChange: () => {}
};
export const Template = (args = {}) => <Checkbox {...{...defaultArgs, ...args}}/>;

# Checkbox

<BetaBlock />

`Checkbox` er en boks som brukeren kan krysse av i for bolske verdier. Den kan også brukes i en gruppe hvor brukeren kan velge flere verdier.

## Eksempler

Sjekkboksene kan ha flere forskjellige statuser:

<Canvas>
    <Story
        name="Normal"
        args={{
            label: 'Normal',
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="Avkrysset"
        args={{
            checked: true,
            label: 'Avkrysset',
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="Feil"
        args={{
            checked: false,
            error: true,
            label: 'Feil',
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="Kompakt"
        args={{
            compact: true,
            label: 'Kompakt',
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="Deaktivert"
        args={{
            disabled: true,
            label: 'Deaktivert',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

Man kan også velge å legge til en beskrivelse:
<Canvas>
    <Story
        name="Med beskrivelse"
        args={{
            label: 'Tekst',
            description: 'Med beskrivelse',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

Sjekkboksen blir midtjustert med første linje selv om teksten går over flere linjer:
<Canvas>
    <Story
        name="Med lang tekst"
        args={{
            label: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. In lectus dolor, consectetur nec finibus quis, varius et risus. Nullam sodales enim viverra metus finibus, id pellentesque erat sagittis. Curabitur mattis eleifend nunc, eget fringilla odio viverra et. Nullam pretium vel tortor quis varius. Sed dui justo, placerat eu lorem vestibulum, condimentum fringilla ante. Curabitur egestas, ante a pharetra rhoncus, velit lorem luctus lectus, sit amet finibus est sem a ante. Mauris tristique aliquam libero ut commodo. Mauris vel justo et nulla rutrum commodo eu sit amet est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. In hac habitasse platea dictumst. Sed aliquet egestas augue in placerat. Quisque malesuada elementum dolor, in ultricies est sodales varius.',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

I noen tilfeller kan det være nødvendig å vise en sjekkboks uten tekst, for eksempel i en tabell.
Man må da sørge for at sjekkboksen likevel har en tekst som er tilgjengelig for skjermlesere.
Dette kan man gjøre ved å sette `label`-attributten på vanlig måte og sette `hideLabel` til `true`.
<Canvas>
    <Story
        name="Med skjult tekst"
        args={{
            label: 'Skjult tekst',
            hideLabel: true,
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Egenskaper
`Checkbox` er en kontrollert komponent; det vil si at det er opp til foreldrenoden å holde styr på om sjekkboksen er avkrysset eller ikke.
Dette gjøres ved å sette `checked`-attributten til `true` eller `false` idet `onChange`-funksjonen blir kalt.
<ArgsTable story="Normal"/>

## Tokens
<TokensTable
    jsonKey='component.checkbox'
    componentName='checkbox'
    showPreview={false}
    description
/>
